(function(){var e,t,n,r,o,i,a,u,l,s,c,d,m,h,f,v,g,p,x,y,X,Y,C,E,b,k,M,S,q,w,G,L,z,B,D;for(b=function(e){var t,n;return t=1,n=Math.pow(10,t),Math.round((e+1e-5)*n)/n},Y="#2F4EA2",s={boundingbox:[-10,10,10,-10],axis:!0,grid:!0,showCopyright:!1,showNavigation:!1},l=JXG.JSXGraph.initBoard("jxgbox",s),t={name:"x",size:4,face:"o",snapSizeX:1,snapSizeY:1,snapToGrid:!0,fillColor:Y,strokeColor:Y},r={name:"y",size:4,face:"o",snapSizeX:1,snapSizeY:1,snapToGrid:!0,fillColor:Y,strokeColor:Y},n=l.create("point",[-5,6],t),o=l.create("point",[4,-4],r),v=function(){return Math.max(n.X(),o.X())},g=function(){var e,t;return e={x:n.X(),y:n.Y()},t={x:o.X(),y:o.Y()},(e.y-t.y)/(e.x-t.x)>=0?Math.min(e.y,t.y):Math.max(e.y,t.y)},a=l.create("point",[v,g]),a.setAttribute({visible:!1}),C=s.boundingbox,w=C[0],z=C[1],q=C[2],B=C[3],G=.5,D=1,S=.5,L=.75,M=document.getElementById("show-values"),k={X:[function(){var e,t,r;return r=a.X()-n.X()===0?o:n,e=(a.X()+r.X())/2,t=G+S,e>q-t?q-t:w+t>e?w+t:e},function(){var e,t;return t=a.X()-n.X()===0?o:n,e=1,Math.min((a.Y()+t.Y())/2+e,z-D)},function(){var e,t;return e=b(n.X()-o.X()),t=M.checked?"":"hide","<div class='values x-distance "+t+"'> "+e+" </div>"}],Y:[function(){var e,t,r,i,u,l,s;return r=a.Y()-n.Y()===0?o:n,t=(a.X()+r.X())/2+.5,i=this.bounds(),l=i[0],e=i[1],u=i[2],e=i[3],s=u-l,t>q-(s+S)?q-(s+S):t},function(){var e,t;return t=a.Y()-n.Y()===0?o:n,e=(a.Y()+t.Y())/2,e>z-L?z-L:B+L>e?B+L:e},function(){var e,t;return e=b(n.Y()-o.Y()),t=M.checked?"":"hide","<div class='values y-distance "+t+"'> "+e+" </div>"}]},l.create("text",k.X,{anchorX:"middle",opacity:.8}),l.create("text",k.Y,{anchorY:"middle",opacity:.8}),e={strokeColor:"#006E9F",strokeWidth:2,fixed:!0},u={straightFirst:!1,straightLast:!1,strokeColor:"black",strokeWidth:2,dash:2},l.create("line",[n,o],e),l.create("line",[n,a],u),l.create("line",[o,a],u),h=null,c=function(){var e,t,r,i,a,u,l,s;return l=function(){var e,t,r,i;for(r=[n.X(),n.Y(),o.X(),o.Y()],i=[],e=0,t=r.length;t>e;e++)u=r[e],i.push(b(u));return i}(),e=l[0],t=l[1],r=l[2],i=l[3],u=b(t-i),a=b(e-r),s=b(u/a),isFinite(s)||(s="\\infty"),$("#slope").mathquill("latex","m=\\frac{"+u+"}{"+a+"}\\approx "+s),0>i&&(i="("+i+")"),0>r&&(r="("+r+")"),$("#slope-num").mathquill("latex","\\Delta y="+t+"-"+i+"="+u),$("#slope-denom").mathquill("latex","\\Delta x="+e+"-"+r+"="+a)},X=function(e){return h=this,document.addEventListener("mousemove",c),document.addEventListener("mouseup",function(){return document.removeEventListener("mousemove",c)})},JXG.addEvent(n.rendNode,"mousedown",X,n),JXG.addEvent(o.rendNode,"mousedown",X,o),m=document.getElementById("discrete-toggle"),m.addEventListener("change",function(){var e,t,r,i;for(i=document.getElementsByClassName("values"),e=0,t=i.length;t>e;e++)r=i[e],r.classList.toggle("discrete-text-size");return setTimeout(function(e){return function(){return n.setAttribute({snapToGrid:e.checked}),o.setAttribute({snapToGrid:e.checked})}}(this),1e3)}),d=["formulae","values","slope"],f=function(e){var t;return t=document.getElementById("show-"+e),t.addEventListener("change",function(t){return function(){var t,n,r,o,i;for(n=[document.getElementById(e)],n[0]||(n=document.getElementsByClassName(e)),i=[],r=0,o=n.length;o>r;r++)t=n[r],i.push(t.classList.toggle("hide"));return i}}(this))},p=0,x=d.length;x>p;p++)i=d[p],f(i);E=function(){var e,t,r,i,a,u,l,s,c;return u="m = \\frac{\\text{rise}}{\\text{run}}",u+="=\\frac{y_2-y_1}{x_2-x_1}",u+="=\\frac{\\Delta y}{\\Delta x}",$("#formulae").mathquill("latex",u),s=function(){var e,t,r,i;for(r=[n.X(),n.Y(),o.X(),o.Y()],i=[],e=0,t=r.length;t>e;e++)l=r[e],i.push(b(l));return i}(),e=s[0],t=s[1],r=s[2],i=s[3],l=b(t-i),a=b(e-r),c=b(l/a),isFinite(c)||(c="\\infty"),$("#slope").mathquill("latex","m=\\frac{"+l+"}{"+a+"}\\approx "+c),0>i&&(i="("+i+")"),0>r&&(r="("+r+")"),$("#slope-num").mathquill("latex","\\Delta y="+t+"-"+i+"="+l),$("#slope-denom").mathquill("latex","\\Delta x="+e+"-"+r+"="+a)},setTimeout(E,null),y={initNewWidget:function(e,t){return!0},onSaveComplete:function(e,t,n,r){return!0},onQuestionImportComplete:function(e){return!0},onMediaImportComplete:function(e){return null},initExistingWidget:function(e,t,n,r,o){var i,a,u,l;try{return a=n,i=n.data}catch(l){return u=l,console.log("initExistingWidget error: ",u)}},onSaveClicked:function(e){var t,n;null==e&&(e="save"),console.log("saving");try{return _buildSaveData()?Materia.CreatorCore.save(_title,_qset):void console.log("Fix errors before saving")}catch(n){return t=n,console.log("onSaveClicked error: ",t)}}},Materia.CreatorCore.start(y)}).call(this);